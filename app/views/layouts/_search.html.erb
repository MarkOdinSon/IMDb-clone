<%= stylesheet_link_tag 'slimselect' %>
<%= javascript_include_tag 'slimselect.min' %>

<!--
<script src="https://unpkg.com/slim-select@latest/dist/slimselect.min.js"></script>
<link href="https://unpkg.com/slim-select@latest/dist/slimselect.css" rel="stylesheet"></link>
-->
  <%= form_with(url: '/movies/set_search_option') do |form| %>
    <div class="flex flex-wrap items-top justify-left place-items-top">
      <div class="max-w-xs my-2">
        <!--https://slimselectjs.com/install#cdn-->
        <%= form.select :category_ids, Category.pluck(:name, :id), {}, { multiple: true, id: 'selectCategoriesSearch', class: 'text-ms' } %>
      </div>
      &nbsp&nbsp&nbsp
      <div class="flex">
        <%= form.text_field :title, id: "search_movie_by_title", class: "w-full block py-2.5 z-20 text-sm text-gray-900 bg-gray-50 border-gray-300", placeholder: " Movie title..." %>
        <%= form.submit "Search", class: "rounded-r-lg border-l-gray-50 py-2 px-3 bg-blue-600 text-white inline-block font-medium cursor-pointer" %>
        &nbsp&nbsp&nbsp&nbsp&nbsp
      </div>
    </div>
  <% end %>

<!--https://slimselectjs.com/install#cdn-->
<!--Delete this script if you don't want to see slim select on the header of the page (if you delete then there will be a standard html multi select)-->
<script type="text/javascript">
    var select = new SlimSelect({
        select: '#selectCategoriesSearch',
        settings: {
            allowDeselect: true,
            placeholderText: 'Select categories'
        }
    })
</script>

<!--Search hint by title jQuery-ui-->
<!--Not awesome but works-->
<script type="text/javascript">
    $(function() {
        $( "#search_movie_by_title" ).autocomplete({
            source: [ <% @array_names_of_movie.length.times do |t| %>"<%= @array_names_of_movie.at(t) %>", <% end %>],
        })
    })
</script>
